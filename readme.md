# Интеграция платежной системы Stripe в Django

Этот проект демонстрирует интеграцию платежной системы Stripe с Django, позволяя создавать и обрабатывать заказы с несколькими товарами.

## Возможности
- Создание и управление товарами через Django Admin
- Создание заказов с несколькими товарами
- Обработка платежей с помощью Stripe
- Просмотр статуса заказа и подтверждения оплаты

## Установка и настройка

### Требования
- Python 3.10+
- pip
- Виртуальное окружение

### Локальная настройка разработки

1. Клонируйте репозиторий

```bash
git clone https://github.com/rusov63/payment_system_stripe.git
cd payment_system_stripe
```

2. Создание и активация виртуального окружения
```bash
python -m venv venv
source venv/bin/activate
```

3. Установить зависимости
```bash
pip install -r requirements.txt
```

4. Переименуйте файл env.sample в .env в корне проекта для добавление переменных окружения.  В ALLOWED_HOSTS через запятую перечисляем:
localhost, 127.0.0.1, Реальный IP-адрес вашего сервера (например, 123.45.67.89)

- STRIPE_PUBLIC_KEY=
- STRIPE_SECRET_KEY=
- DEBUG=
- SECRET_KEY=''
- ALLOWED_HOSTS=

5. Применение миграций
```bash
python manage.py migrate
```

6. Создание суперпользователя
```bash
python manage.py createsuperuser
```

7. Запуск сервера разработки
```bash
python manage.py runserver
```

## Тестирование приложения
Перейдите в административную панель по адресу http://localhost:8000/admin
Создайте несколько тестовых товаров (Items)
Перейдите по адресу http://localhost:8000, чтобы просмотреть товары
Создайте заказ и перейдите к оформлению платежа
Используйте тестовые карты Stripe для оплаты:
Успешная оплата: 4242 4242 4242 4242
Отклоненная оплата: 4000 0000 0000 0002


## Демонстрационная версия в реальном времени
Приложение развернуто и доступно по адресу: http://194.87.134.253
Учетные данные администратора для тестирования:
- URL: http://194.87.134.253/admin
- Username: admin
- Password: 123456admin


## API Endpoints
Приложение предоставляет следующие API-эндпоинты:
- GET /: Главная страница со списком товаров
- GET /item/<id>/: Детальное представление конкретного товара
- GET /order/create/: Создание нового заказа
- GET /order/<id>/: Просмотр деталей заказа
- GET /order/<id>/checkout/: Обработка платежа для заказа

